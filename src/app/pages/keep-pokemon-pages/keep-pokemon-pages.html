<div>
    <button (click)="store.unselectAll()">Reset</button>
    @for (generation of [1, 2, 3, 4, 5, 6, 7, 8, 9]; track $index) {
        <button (click)="store.selectGeneration(generation)">Generation {{ generation }}</button>
    }
    <button (click)="store.exportKeepPokemon()">Télécharger liste</button>
    <br />
    <input
        type="file"
        multiple
        accept=".json"
        (change)="store.onFilesSelected($event)"
    />
</div>
<h2>Generation {{ store.generationSelected() }}</h2>
@for (pokemon of store.allFamilyPokemon().get(store.generationSelected()); track pokemon.id) {
    <img
        [src]="pokemon.image"
        [alt]="pokemon.name"
        [title]="pokemon.name"
        loading="lazy"
        style="height: 75px; aspect-ratio: 1"
        (click)="store.selectPokemon(pokemon)"
        [class.selected]="store.pokemonWantKeep().has(pokemon)"
    />
}
<div>Pokemon sélectionné</div>
@for (generation of [1, 2, 3, 4, 5, 6, 7, 8, 9]; track $index) {
    @if (store.pokemonWantKeepMap()[generation] && store.pokemonWantKeepMap()[generation].length !== 0) {
        <h3>Generation {{ generation }}</h3>
        @for (pokemon of store.pokemonWantKeepMap()[generation]; track $index) {
            <img
                [src]="pokemon.image"
                [alt]="pokemon.name"
                [title]="pokemon.name"
                loading="lazy"
                style="height: 75px; aspect-ratio: 1"
                (click)="store.selectPokemon(pokemon)"
            />
        }
    }
}
